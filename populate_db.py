import sqlite3
import random

DATABASE = "markers.db"


locations = [
    ("Эйфелева башня", "Знаменитая башня в Париже", 48.8584, 2.2945),
    ("Колизей", "Древний амфитеатр в Риме", 41.8902, 12.4922),
    ("Статуя Свободы", "Подарок Франции США", 40.6892, -74.0445),
    ("Тадж-Махал", "Мавзолей-мечеть в Агре", 27.1751, 78.0421),
    ("Сиднейский оперный театр", "Известное здание в Австралии", -33.8568, 151.2153),
    ("Мачу-Пикчу", "Древний город инков в Перу", -13.1631, -72.5450),
    ("Великая Китайская стена", "Участок Мутяньюй", 40.4319, 116.5704),
    ("Бранденбургские ворота", "Символ Берлина", 52.5163, 13.3777),
    ("Бурдж-Халифа", "Самое высокое здание мира", 25.1972, 55.2744),
    ("Ниагарский водопад", "Водопады на границе США и Канады", 43.0828, -79.0742),
    ("Храм Святого Семейства", "Базилика в Барселоне", 41.4036, 2.1744),
    ("Голубая лагуна", "Геотермальный курорт в Исландии", 63.8804, -22.4496),
    ("Стоунхендж", "Мегалитическое сооружение", 51.1789, -1.8262),
    ("Акрополь", "Древний город в Афинах", 37.9715, 23.7257),
    ("Гора Фудзи", "Вулкан в Японии", 35.3606, 138.7278),
    ("Острова Пхи-Пхи", "Острова в Таиланде", 7.7404, 98.7784),
    ("Водопад Виктория", "Водопад в Южной Африке", -17.9243, 25.8572),
    ("Мост Золотые Ворота", "Мост в Сан-Франциско", 37.8199, -122.4783),
    ("Пирамиды Гизы", "Древние сооружения в Египте", 29.9792, 31.1342),
    ("Токио Тауэр", "Телебашня в Токио", 35.6586, 139.7454)
]

try:
    conn = sqlite3.connect(DATABASE)
    cursor = conn.cursor()


    print("Deleting old markers...")
    cursor.execute("DELETE FROM markers")
    print("Old markers deleted.")

    markers_to_insert = []
    for name, desc, lat, lon in locations:
        rating = random.randint(1, 10)
        markers_to_insert.append((lat, lon, name, desc, rating))

    print(f"Inserting {len(markers_to_insert)} new markers...")
    # быстрой вставки
    cursor.executemany(
        "INSERT INTO markers (lat, lon, name, description, rating) VALUES (?, ?, ?, ?, ?)",
        markers_to_insert
    )

    conn.commit()
    print("Markers inserted successfully!")

except sqlite3.Error as e:
    print(f"Database error: {e}")
finally:
    if conn:
        conn.close()
        print("Database connection closed.")
